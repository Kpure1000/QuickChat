# 最终检查



## 1. 界面与功能

* 部署
  * **阿里云**
* 账户管理
  * 注册
  * 登录
  * **重复登录，强制退出**
* 聊天
  * 私聊
  * 群聊
  * 记录
  * **界面为HTML富文本，可以添加图片**
    * 例如
      * <img src="file:///Users/kpurek/Desktop/QuickChat/image/h13.jpg" width="70" height="70">
    * **可以利用这个做表情系统**
* 文件传输
  * 借鉴**FTP**原理
    * 与控制的TCP（始终连接的那一条）独立开，每个文件传输进程**单独使用一条TCP连接**
    * 可以实现同时双向，因为是多条**不同的TCP**，在不同的服务进程中进行文件传输

## 2. 数据结构

* 没有采用数据库
  * 数据库简化操作，使用原始文件操作更有学习意义
* 配置文件
  * 公共配置：存在**json**中便于**修改**
  * 私有配置：对象**序列化**后直接保存**二进制**文件，如果不获取序列化ID则无法读写，**更加安全**

## 3. 项目结构

1. 项目采用简单**MVC**架构
2. 实现监听事件的管理
   * 通过**interface**实现
    * 可以实现**订阅、取消**
3. 通过监听事件来进行界面与控制的分离
   * 界面负责订阅与取消事件
   * 控制负责调用事件
   * 监听表置于**CopyOnWriteList**中，能够避免线程冲突

4. 关于线程冲突如何解决
   * 首先是从**时空逻辑**上尽量避免
   * 采用**CopyOnWrite**的数据结构
   * 加锁（这个不太友好，我没有采用）





